"use strict";(self.webpackChunknola=self.webpackChunknola||[]).push([[693,33],{3646:(e,t,n)=>{n.d(t,{J:()=>o});var s=n(7689),i=n(463),a=n(2791),r=n(2564),c=n(184);const o=e=>{let{message:t,navigatePage:n}=e;const o=(0,s.s0)();return(0,a.useEffect)((()=>{(0,i.f)("".concat(t)),setTimeout((()=>{o(n,{replace:!0})}),3e3)}),[t,o,n]),(0,c.jsx)(r.Ix,{})}},2033:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var s=n(2791),i=n(7689),a=n(1087),r=n(6671),c=n(463),o=n(2564);const d="AddPostPage_banner__N26IO";var l=n(2219),u=n(3646),h=n(184);const x=()=>{const e=(0,i.TH)(),[t,n]=(0,s.useState)(!1),[x,v]=(0,s.useState)(!1),[j,p]=(0,s.useState)(!1),[m,g]=(0,s.useState)(null),[f,k]=(0,s.useState)(!1),[b,L]=(0,s.useState)({description:"",title:"",banner:"https://img.freepik.com/premium-photo/nelle-vie-di-milano_1048944-5187462.jpg"}),C=e=>{let{target:t}=e;const{name:n,value:s}=t;L({...b,[n]:s})};return(0,h.jsxs)("div",{children:[(0,h.jsx)(o.Ix,{}),f&&(0,h.jsx)(u.J,{message:"Sucsessfull add a new advertisement",navigatePage:"/main/accountAdverticer"}),t&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("input",{type:"file",value:m,accept:"image/*  ,.png,.jpg,.jpeg,.gif,.webp,.svg,.pdf",onChange:e=>{let{target:t}=e;const{files:n}=t,s=n[0].type.split("/").splice(1,1).join(),i=t.accept.split(",.").find((e=>e===s));if(i)return(0,c.f)("Photo downlo\u0430ding"),void v(i);(0,c.f)("Photo has not suitable format")}}),(0,h.jsx)("button",{onClick:()=>{if(!x)return void(0,c.f)("Please select a file");const e=new FormData;e.append("file",x),p(!0),L({...b,banner:e}),n(!1)},children:"Upload now"})]}),(0,h.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await(0,r.GT)(b);k(!0)}catch(n){var t;(0,l.b)((null===n||void 0===n||null===(t=n.response)||void 0===t?void 0:t.statusText)||n.message)}L({banner:"",description:"",title:""})},children:[(0,h.jsx)("button",{type:"button",onClick:()=>{n(!0)},children:"Add Bunner"}),x&&(0,h.jsx)("ul",{}),j&&(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{}),(0,h.jsx)("img",{src:"",alt:"",className:d})]}),(0,h.jsx)("input",{type:"text",name:"title",value:b.title,onChange:C}),(0,h.jsx)("textarea",{name:"description",cols:"30",rows:"10",value:b.description,onChange:C}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("ul",{children:[(0,h.jsx)("li",{children:(0,h.jsx)(a.OL,{to:"/main/accountAdverticer/adverticerEdit/links/addLinks",state:e,children:"Link"})}),(0,h.jsx)("li",{children:(0,h.jsx)(a.OL,{to:"/main/accountAdverticer/adverticerEdit/links/addLinks",state:e,children:"Link"})}),(0,h.jsx)("li",{children:(0,h.jsx)(a.OL,{to:"/main/accountAdverticer/adverticerEdit/links/addLinks",state:e,children:"Link"})})]}),(0,h.jsx)(a.OL,{to:"previewAdvertisemet",children:(0,h.jsx)("button",{children:"Preview"})}),(0,h.jsx)("button",{children:"Confirm "})]})]}),(0,h.jsx)(a.OL,{to:"/main",children:(0,h.jsx)("button",{type:"button",children:"Cancel"})})]})}},7693:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var s=n(2791),i=n(7689),a=n(1087),r=(n(2033),n(6671)),c=n(3296),o=n(2564),d=n(3646),l=(n(2219),n(184));const u=()=>{const e=(0,i.TH)(),{token:t,setToken:n}=((0,i.s0)(),(0,c.a)()),u=(0,i.UO)(),[h,x]=(0,s.useState)(!1),[v,j]=(0,s.useState)({name:"",textarea:""});(0,s.useEffect)((()=>{(async()=>{try{await(0,r.MZ)(t,u.editPostId).then((e=>e.json())).then((e=>{j(...e)}))}catch(e){console.log(e)}})()}),[u,t]);const p=e=>{let{target:t}=e;const{name:n,value:s}=t;j({...v,[n]:s})};return(0,l.jsxs)("div",{children:["EditPostPage",(0,l.jsx)(o.Ix,{}),h&&(0,l.jsx)(d.J,{message:"Current post has been edited",navigatePage:"/main/accountAdverticer"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),x(!0);try{await(0,r.Ux)(t,v.id,{name:v.name,textarea:v.textarea}).then((e=>e.json())).then((e=>(j(e),e)))}catch(n){}},children:[(0,l.jsx)(a.OL,{to:"",children:(0,l.jsx)("button",{type:"button",children:"Add Bunner"})}),(0,l.jsx)("input",{type:"text",name:"name",value:v.name,onChange:p}),(0,l.jsx)("textarea",{name:"textarea",cols:"30",rows:"10",value:v.textarea,onChange:p}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:(0,l.jsx)(a.OL,{to:"/main/accountAdverticer/adverticerEdit/links/addLinks",state:e,children:"Link"})}),(0,l.jsx)("li",{children:(0,l.jsx)(a.OL,{to:"/main/accountAdverticer/adverticerEdit/links/addLinks",state:e,children:"Link"})}),(0,l.jsx)("li",{children:(0,l.jsx)(a.OL,{to:"/main/accountAdverticer/adverticerEdit/links/addLinks",state:e,children:"Link"})})]}),(0,l.jsx)("button",{children:"Confirm"})]})]}),(0,l.jsx)(a.OL,{to:"/main/accountAdverticer",children:(0,l.jsx)("button",{type:"button",children:"Cancel "})})]})]})}},2219:(e,t,n)=>{n.d(t,{b:()=>i});var s=n(2564);const i=e=>{s.Am.error("".concat(e),{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}},463:(e,t,n)=>{n.d(t,{f:()=>i});var s=n(2564);n(5462);const i=e=>{(0,s.Am)("".concat(e),{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}},5462:()=>{}}]);
//# sourceMappingURL=693.6b4ae985.chunk.js.map