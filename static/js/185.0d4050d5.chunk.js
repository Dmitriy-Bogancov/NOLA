"use strict";(self.webpackChunknola=self.webpackChunknola||[]).push([[185],{6645:(e,t,a)=>{a.d(t,{Z:()=>n});a(2791);const n=a.p+"static/media/addBaner.ba9dfedad53f886e44e80a37b788d3ba.svg"},908:(e,t,a)=>{a.d(t,{Z:()=>n});a(2791);const n=a.p+"static/media/circle-exclamation-mark.17ba79873a47e9a43cf4f3584ca4f5b5.svg"},5874:(e,t,a)=>{a.d(t,{Z:()=>n});a(2791);const n=a.p+"static/media/deleteLink.ec9ed3a14b19f8dd1a26b37bc4b1ea4c.svg"},6500:(e,t,a)=>{a.d(t,{b:()=>d});const n="AddPostLinks_links_container__J7faG",i="AddPostLinks_post_container__9SIl8";var o=a(6645),l=a(5874),r=a(184);const d=e=>{let{links:t,onLinkChange:a,onLinkAdd:d,onLinkDelete:c}=e;const s=null===t||void 0===t?void 0:t.find((e=>e.id===t[t.length-1].id));return(0,r.jsx)(r.Fragment,{children:t&&(null===t||void 0===t?void 0:t.map((e=>{let{id:t,url:A,name:h}=e;return(0,r.jsxs)("div",{className:n,children:[(0,r.jsx)("textarea",{value:A,placeholder:"url",className:"".concat(i,"   dark:bg-black dark:border-white dark:text-white"),onChange:e=>a(t,e.target.value,h)}),(0,r.jsx)("textarea",{value:h,onChange:e=>a(t,A,e.target.value),placeholder:"name",className:"".concat(i,"   dark:bg-black dark:border-white dark:text-white")}),s.id===t?(0,r.jsx)("img",{src:o.Z,alt:"add link",onClick:d}):(0,r.jsx)("img",{src:l.Z,alt:"delete link",onClick:()=>c(t)})]},t)})))})}},7459:(e,t,a)=>{a.d(t,{Z:()=>l});a(2791);const n="Button_buttonForm__X-24B",i="Button_disabled__jvels";var o=a(184);const l=e=>{let{label:t,onClick:a,disabled:l}=e;return(0,o.jsx)("button",{className:"".concat(n," ").concat(l?i:""),onClick:a,disabled:l,children:t})}},4032:(e,t,a)=>{a.d(t,{Z:()=>g});var n=a(2791),i=a(1087);const o="GoBackButton_goBack__sMPM4",l="GoBackButton_titleRecovery__jxfe9",r="GoBackButton_iconDark__ngklm";var d,c,s=a(3296);function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},A.apply(this,arguments)}function h(e,t){let{title:a,titleId:i,...o}=e;return n.createElement("svg",A({width:56,height:56,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),a?n.createElement("title",{id:i},a):null,d||(d=n.createElement("path",{d:"M16.3333 28H39.6666",stroke:"black",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),c||(c=n.createElement("path",{d:"M25.6666 18.6667L16.3333 28.0001L25.6666 37.3334",stroke:"black",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const v=n.forwardRef(h);a.p;var u=a(184);const g=e=>{let{to:t,title:a,imgSrc:n,imgAlt:d,imgWidth:c,imgHeight:A,onClick:h}=e;const{theme:g,setTheme:_}=(0,s.a)();return(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)(i.rU,{to:t,onClick:h,className:"dark"===g?r:"",children:(0,u.jsx)(v,{})}),(0,u.jsx)("h3",{className:"".concat(l," dark:text-white"),children:a})]})}},9321:(e,t,a)=>{a.d(t,{u:()=>r});const n="Modal_backdrop__2bCFe",i="Modal_modal__RKlRu",o="Modal_children__HRgbz";var l=a(184);const r=e=>{let{children:t,handleToggleModal:a}=e;return(0,l.jsx)("div",{className:n,onClick:e=>{const{target:t,currentTarget:n}=e;t===n&&a()},children:(0,l.jsx)("div",{className:"".concat(i," dark:bg-black"),children:(0,l.jsx)("div",{className:o,children:t})})})}},6185:(e,t,a)=>{a.r(t),a.d(t,{default:()=>B});const n={back_container:"AdverticerEditPage_back_container__w-+Op",form_container:"AdverticerEditPage_form_container__XiD8T",form:"AdverticerEditPage_form__BuBxH",photo_container:"AdverticerEditPage_photo_container__Q8TGL",addPhoto:"AdverticerEditPage_addPhoto__zkM7R",icon:"AdverticerEditPage_icon__R6zTM",photo_title:"AdverticerEditPage_photo_title__fkesz",input_container:"AdverticerEditPage_input_container__D7OCN",input:"AdverticerEditPage_input__3Dykd",textarea:"AdverticerEditPage_textarea__wxwDf",links_container:"AdverticerEditPage_links_container__xd3hj",post_container:"AdverticerEditPage_post_container__tPJCG",addLink:"AdverticerEditPage_addLink__OQ7jg",post_description:"AdverticerEditPage_post_description__dmOck",symbols:"AdverticerEditPage_symbols__8Hyg0",btn_container:"AdverticerEditPage_btn_container__JMRqD",attention_container:"AdverticerEditPage_attention_container__TBWG1",attention_descr:"AdverticerEditPage_attention_descr__NdVYS",error_links:"AdverticerEditPage_error_links__MUbyy",error_placeholder:"AdverticerEditPage_error_placeholder__GGqfD",modal_title:"AdverticerEditPage_modal_title__HQ-Ce",modal_descr:"AdverticerEditPage_modal_descr__yHpk2",modal_btn:"AdverticerEditPage_modal_btn__Lcgta",modal_text:"AdverticerEditPage_modal_text__dZQ7S"};var i=a(4032),o=a(8971),l=a(6645),r=a(5874),d=a(7689),c=a(7459),s=a(2791),A=a(6671),h=a(8007),v=a(908),u=a(3296),g=a(9321),_=(a(6500),a(2219)),m=a(422),p=a(7162),k=a(2564),x=a(184);const E=h.Ry().shape({name:h.Z_().min(1).required("Name is required"),description:h.Z_().min(50).required("Description is required")}),B=()=>{var e,t,a,h,B,b,f;const Q=(0,d.s0)(),[w,j]=(0,s.useState)([]),{token:P,setToken:C}=(0,u.a)(),[N,y]=(0,s.useState)({}),[S,D]=(0,s.useState)(!1),[R,L]=(0,s.useState)(!1),[Z,H]=(0,s.useState)((()=>{var e,t;return null!==(e=null===(t=JSON.parse(localStorage.getItem("account")))||void 0===t?void 0:t.photo)&&void 0!==e?e:""})),[F,M]=(0,s.useState)(!1),[I,O]=(0,s.useState)((()=>{var e,t;return null!==(e=null===(t=JSON.parse(localStorage.getItem("account")))||void 0===t?void 0:t.links)&&void 0!==e?e:[{id:(0,m.x0)(),url:"",name:""}]})),[G,J]=(0,s.useState)((()=>{var e;return null!==(e=JSON.parse(localStorage.getItem("account")))&&void 0!==e?e:{photo:"",name:"",description:""}})),[W,K]=(0,s.useState)((null===G||void 0===G||null===(e=G.description)||void 0===e?void 0:e.length)||0);(0,s.useEffect)((()=>{var e;null===G||void 0===G||null===(e=G.links)||void 0===e||e.map((e=>{var t,a;let{url:n,name:i}=e;0===n.length||0===i.length||(null===N||void 0===N||null===(t=N.description)||void 0===t?void 0:t.length)>0||(null===N||void 0===N||null===(a=N.name)||void 0===a?void 0:a.length)>0?D(!1):D(!0)}))}),[null===G||void 0===G?void 0:G.links,N]),(0,s.useEffect)((()=>{(async()=>{try{await(0,A.p_)(P).then((e=>e.json())).then((e=>(localStorage.setItem("account",JSON.stringify(e)),e))),j(w)}catch(e){console.log(e)}})()}),[G,w,P]),(0,s.useEffect)((()=>{localStorage.setItem("account",JSON.stringify(G))}),[G]);const U=()=>{var e,t;""!==(null===(e=I[I.length-1])||void 0===e?void 0:e.name)&&""!==(null===(t=I[I.length-1])||void 0===t?void 0:t.url)&&(J((e=>({...G,links:[...e.links,{id:(0,m.x0)(),url:"",name:""}]}))),O((e=>[...e,{id:(0,m.x0)(),url:"",name:""}])))},q=(e,t,a)=>{O((n=>{const i=n.findIndex((t=>t.id===e)),o=[...n];return o.splice(i,1,{id:e,url:t,name:a}),J({...G,links:o}),o}))},T=e=>{const{name:t,value:a}=e.target;J((e=>({...e,[t]:a}))),y({...N,[t]:""}),"description"===t&&K(a.length)},z=async e=>{try{await E.validateAt(e,G),y((t=>({...t,[e]:""})))}catch(t){y((a=>({...a,[e]:t.message}))),D(!1)}},Y=e=>N[e]&&"#DA2E2E",V=null===I||void 0===I?void 0:I.find((e=>e.id===I[I.length-1].id));return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(k.Ix,{}),(0,x.jsxs)("div",{className:n.adverticerEdit_container,children:[(0,x.jsx)("div",{onClick:()=>{var e,t;(null===G||void 0===G||null===(e=G.description)||void 0===e?void 0:e.length)>50&&(null===G||void 0===G||null===(t=G.name)||void 0===t?void 0:t.length)>0?Q("/main/accountAdverticer"):L((e=>!e))},children:(0,x.jsx)(i.Z,{imgSrc:o,imgAlt:"Go back",imgWidth:"50px",imgHeight:"50px",title:"Account"})}),F&&(0,x.jsx)("p",{children:"Photo downlo\u0430ding"}),(0,x.jsxs)("div",{className:n.photo_container,children:[(0,x.jsxs)("label",{children:[(0,x.jsx)("img",{src:Z,className:"".concat(n.icon)}),(0,x.jsx)("input",{className:n.addPhoto,type:"file",onChange:async e=>{const t=e.target.files[0],a=new FormData;if(a.append("file",t),a.append("api_key","984292171139147"),a.append("upload_preset","j0hj8hjd"),t)try{var n;M(!0);const e=await(0,p.I)(a);J((t=>{var a;return{...G,photo:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.url}})),H(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.url)}catch(i){(0,_.b)(i.message)}finally{M(!1)}}})]}),(0,x.jsx)("p",{className:"".concat(n.photo_title," dark:text-white"),children:"Add photo"})]}),(0,x.jsxs)("form",{className:n.form_container,onSubmit:async e=>{e.preventDefault(),console.log(G),E.validate(G,{abortEarly:!1}).then((async()=>{console.log("Form submitted with data:",G);try{if(G.id){try{await(0,A.wm)(P,G.id,{name:G.name,description:G.description}).then((e=>e.json())).then((e=>(J(e),e)))}catch(e){console.log(e)}return}try{await(0,A.I2)(P,G)}catch(e){console.log(e)}}catch(e){(0,_.b)(e)}})).catch((e=>{const t={};e.inner.forEach((e=>{t[e.path]=e.message})),y(t)}))},children:[(0,x.jsxs)("div",{className:n.form,children:[(0,x.jsxs)("label",{className:"".concat(n.post_description," dark:text-white"),children:["Name*",(0,x.jsx)("input",{name:"name",type:"text",placeholder:"Name",value:null===G||void 0===G?void 0:G.name,onBlur:()=>z("name"),style:{borderColor:Y("name")},className:"primary_text_style ".concat(n.input," dark:text-white dark:bg-black dark:border-white\n                ").concat((null===N||void 0===N||null===(t=N.name)||void 0===t?void 0:t.length)>0?n.error_placeholder:""),onChange:T})]}),I&&(null===I||void 0===I?void 0:I.map((e=>{var t,a;let{id:i,url:o,name:d}=e;return(0,x.jsxs)("div",{className:n.links_container,children:[(0,x.jsx)("textarea",{value:o,name:"links",placeholder:"url",className:"".concat(n.post_container,"   dark:bg-black dark:border-white dark:text-white \n                   ").concat((null===G||void 0===G||null===(t=G.links)||void 0===t?void 0:t.length)>0&&0===o.length?"".concat(n.error_placeholder," ").concat(n.error_links," dark:border-red"):"","\n                "),onChange:e=>q(i,e.target.value,d)}),(0,x.jsx)("textarea",{value:d,name:"links",onChange:e=>q(i,o,e.target.value),placeholder:"name",onBlur:()=>z("links"),className:"".concat(n.post_container,"   dark:bg-black dark:border-white dark:text-white\n                    ").concat((null===G||void 0===G||null===(a=G.links)||void 0===a?void 0:a.length)>0&&0===d.length?"".concat(n.error_placeholder," ").concat(n.error_links," dark:border-red"):"","\n                ")}),V.id===i?(0,x.jsx)("img",{src:l.Z,alt:"add link",onClick:U}):(0,x.jsx)("img",{src:r.Z,alt:"delete link",onClick:()=>(e=>{const t=G.links.filter((t=>{let{id:a}=t;return a!==e}));J({...G,links:t}),O(t)})(i)})]},i)}))),(0,x.jsxs)("label",{className:"".concat(n.post_description," dark:text-white"),children:["Description*",(0,x.jsx)("textarea",{name:"description",type:"text",placeholder:"Minimum 50 characters*",maxLength:"500",id:"",cols:"30",rows:"10",value:null===G||void 0===G?void 0:G.description,onBlur:()=>z("description"),style:{borderColor:Y("description")},className:"primary_text_style ".concat(n.textarea," dark:text-white dark:bg-black dark:border-white\n                 ").concat((null===N||void 0===N||null===(a=N.description)||void 0===a?void 0:a.length)>0?n.error_placeholder:"","\n                "),onChange:T}),(0,x.jsxs)("p",{className:"".concat(n.symbols," dark:text-white"),children:["Symbols left",(0,x.jsxs)("span",{children:[W,"/500"]})]})]})]}),(0,x.jsxs)("div",{className:n.btn_container,children:[(null===N||void 0===N||null===(h=N.description)||void 0===h?void 0:h.length)>0||(null===N||void 0===N||null===(B=N.name)||void 0===B?void 0:B.length)>0||!S?(0,x.jsxs)("div",{className:n.attention_container,children:[(0,x.jsx)("img",{src:v.Z,alt:"attention"}),(0,x.jsx)("p",{className:n.attention_descr,children:"Fill in all required fields for input"})]}):"",(0,x.jsx)(c.Z,{label:"Save",type:"submit",disabled:!((null===G||void 0===G||null===(b=G.description)||void 0===b?void 0:b.length)>49&&(null===G||void 0===G||null===(f=G.name)||void 0===f?void 0:f.length)>0&&S)})]})]}),R&&(0,x.jsxs)(g.u,{handleToggleModal:()=>{L((e=>!e))},children:[(0,x.jsxs)("h2",{className:"".concat(n.modal_title," dark:text-white"),children:["Your profile is incomplete!"," "]}),(0,x.jsx)("p",{className:"".concat(n.modal_descr," dark:text-white"),children:"You won\u2019t be able to publish announcements until you complete the profile"}),(0,x.jsx)("button",{type:"button",className:n.modal_btn,onClick:()=>{L((e=>!e))},children:"Continue entering data"}),(0,x.jsx)("p",{className:"".concat(n.modal_text," dark:text-white"),onClick:()=>{Q("/main/accountAdverticer")},children:"Continue later"})]})]})]})}},2219:(e,t,a)=>{a.d(t,{b:()=>i});var n=a(2564);const i=e=>{n.Am.error("".concat(e),{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}},7162:(e,t,a)=>{a.d(t,{I:()=>i});var n=a(5294);const i=async e=>await n.Z.post("https://api.cloudinary.com/v1_1/".concat("dpsjhatpy","/image/upload"),e)},8971:e=>{e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAA4ADgDAREAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/igAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgD4O/bo/bo8N/sfeG/Bnhjwx4M1b47/ALVnx31a88F/stfsteC7y2g8b/GPxvBbCe8v7+8nElr4F+EvgW1kTxB8WPix4gSLwz4E8MxSXNzJd6vd6Po+pgHsH7JfhT9pTwf8DPClh+138UvCvxb/AGg9Tutf8T/EHXfAPhOz8HfD3w5e+Kdcv9ds/ht8P9Nhhi1PUPBPwz0++tfBHhvxN4qkufGHirTdEh8Q+JpxquozwQAH0jQAUAFABQBVvjeiyvDpq2raiLW4Ngt80qWTXvlP9lW8e3SSdLUz+WLhoY3lWLeY0ZwFIB/Gn+wGf+Ct3/DeX7bP/Cz1/wCCc4/4KXDUlHiI/tRt+0w3idv2Rv7SU/DBv2NR4GRfBSfshf2sZ1vV8JtJ45PxEW4f9oBx45fSY0AP24/435/9Ygf/ADc+gA/435/9Ygf/ADc+gD9dLEXosrMak1q2oi1txftYrKlk175Sfams0uHknS1M/mG3WaR5Vi2CR2cFiAWqACgAoA+Dv26P2F/Df7YPhvwZ4n8MeM9W+BH7VnwI1a88afstftS+C7O2n8b/AAc8bz2wgvLC/s5zHa+OvhL46tY08P8AxY+E/iB5fDPjvwzLJbXMdpq9po+saYAexfsm+K/2kvGHwK8Jah+1z8LvC/wl/aE0248QeGPiJoPgPxVZeL/h54h1Dwtr+o6DZfEj4eanBcz6pZeB/ibpdhZeOfDnhvxXFZeMfClhrkfhvxNatqelzXd0AfR9ABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAA/9k="},422:(e,t,a)=>{a.d(t,{x0:()=>n});let n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",a=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&a[e]];return t}}}]);
//# sourceMappingURL=185.0d4050d5.chunk.js.map