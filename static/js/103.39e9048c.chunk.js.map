{"version":3,"file":"static/js/103.39e9048c.chunk.js","mappings":"0NAUA,MAyIA,EAzIqBA,MACFC,EAAAA,EAAAA,OACAC,EAAAA,EAAAA,MADjB,MAEM,MAAEC,EAAK,SAAEC,IAAaC,EAAAA,EAAAA,KACtBC,GAASC,EAAAA,EAAAA,OACRC,EAAYC,IAAiBC,EAAAA,EAAAA,WAAS,IACtCC,EAAMC,IAAWF,EAAAA,EAAAA,UAAS,CAC/BG,GAAI,GACJC,YAAa,GACbC,MAAO,GACPC,SAAU,CAAEC,MAAO,KAAMF,MAAO,IAChCG,YAAa,CAAED,MAAO,KAAMF,MAAO,IACnCI,aAAoB,YACpBC,kBAAmB,GACnBC,MAAO,GACPC,OAAQ,GACRC,SAAU,MAGZC,EAAAA,EAAAA,YAAU,KACQ,WACd,UACQC,EAAAA,EAAAA,IAAWtB,EAAOG,EAAOoB,YAC5BC,MAAMC,GACEA,EAASC,SAEjBF,MAAMG,IACLlB,EAAQ,IAAKD,KAASmB,GAAO,GAEnC,CAAE,MAAOC,GACPC,QAAQC,IAAIF,EACd,CACD,EAZe,EAYZ,GACH,CAACzB,EAAQH,IAiCZ,OACE+B,EAAAA,EAAAA,MAAA,OAAAC,SAAA,CAAK,gBAEHC,EAAAA,EAAAA,KAACC,EAAAA,GAAc,IACd7B,IACC4B,EAAAA,EAAAA,KAACE,EAAAA,EAAgB,CACfC,QAAS,+BACTC,aAAc,6BAGlBJ,EAAAA,EAAAA,KAAA,OAAAD,UACEC,EAAAA,EAAAA,KAACK,EAAAA,QAAW,CAACC,SAAU/B,EAAMgC,YAAa/B,QAwDxC,C","sources":["pages/EditPostPage/EditPostPage.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { NavLink, useLocation, useNavigate, useParams } from \"react-router-dom\";\r\nimport AddPostPage from \"../AddPostPage/AddPostPage\";\r\nimport { getPostApi, patchPostApi } from \"../../services/https/https\";\r\nimport { useCustomContext } from \"../../services/Context/Context\";\r\n\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport { HandleFormConfig } from \"../../components/HandleFormConfig/HandleFormConfig\";\r\nimport { ToastError } from \"../../services/ToastError/ToastError\";\r\n\r\nconst EditPostPage = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { token, setToken } = useCustomContext();\r\n  const params = useParams();\r\n  const [formConfig, setFormConfig] = useState(false);\r\n  const [post, setPost] = useState({\r\n    id: \"\",\r\n    description: \"\",\r\n    title: \"\",\r\n    category: { index: null, title: \"\" },\r\n    subcategory: { index: null, title: \"\" },\r\n    callToAction: \"\" || \"Read more\",\r\n    callToActionLinks: \"\",\r\n    links: [],\r\n    banner: [],\r\n    addLinks: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const getData = (async () => {\r\n      try {\r\n        await getPostApi(token, params.editPostId)\r\n          .then((response) => {\r\n            return response.json();\r\n          })\r\n          .then((data) => {\r\n            setPost({ ...post, ...data });\r\n          });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    })();\r\n  }, [params, token]);\r\n\r\n  const handleChangePost = ({ target }) => {\r\n    const { name, value } = target;\r\n    setPost({\r\n      ...post,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleSubmitPost = async (e) => {\r\n    e.preventDefault();\r\n    setFormConfig(true); // delete later\r\n\r\n    try {\r\n      await patchPostApi(token, post.id, {\r\n        name: post.name,\r\n        textarea: post.textarea,\r\n      })\r\n        .then((response) => {\r\n          return response.json();\r\n        })\r\n        .then((data) => {\r\n          setPost(data);\r\n          // setFormConfig(true);\r\n          return data;\r\n        });\r\n    } catch (error) {\r\n      // ToastError(error.message)\r\n    }\r\n    return;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      EditPostPage\r\n      <ToastContainer />\r\n      {formConfig && (\r\n        <HandleFormConfig\r\n          message={\"Current post has been edited\"}\r\n          navigatePage={\"/main/accountAdverticer\"}\r\n        />\r\n      )}\r\n      <div>\r\n        <AddPostPage postEdit={post} setPostEdit={setPost} />\r\n        {/* <form onSubmit={handleSubmitPost}>\r\n          <NavLink to=\"\">\r\n            <button type=\"button\">Add Bunner</button>\r\n          </NavLink>\r\n\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={post.name}\r\n            onChange={handleChangePost}\r\n          />\r\n          <textarea\r\n            name=\"textarea\"\r\n            cols=\"30\"\r\n            rows=\"10\"\r\n            value={post.textarea}\r\n            onChange={handleChangePost}\r\n          ></textarea>\r\n          <div>\r\n            <ul>\r\n              <li>\r\n                <NavLink\r\n                  to=\"/main/accountAdverticer/adverticerEdit/links/addLinks\"\r\n                  state={location}\r\n                >\r\n                  Link\r\n                </NavLink>\r\n              </li>\r\n\r\n              <li>\r\n                <NavLink\r\n                  to=\"/main/accountAdverticer/adverticerEdit/links/addLinks\"\r\n                  state={location}\r\n                >\r\n                  Link\r\n                </NavLink>\r\n              </li>\r\n\r\n              <li>\r\n                <NavLink\r\n                  to=\"/main/accountAdverticer/adverticerEdit/links/addLinks\"\r\n                  state={location}\r\n                >\r\n                  Link\r\n                </NavLink>\r\n              </li>\r\n            </ul>\r\n\r\n            <button>Confirm</button>\r\n          </div>\r\n        </form>\r\n        <NavLink to=\"/main/accountAdverticer\">\r\n          <button type=\"button\">Cancel </button>\r\n        </NavLink> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditPostPage;\r\n"],"names":["EditPostPage","useLocation","useNavigate","token","setToken","useCustomContext","params","useParams","formConfig","setFormConfig","useState","post","setPost","id","description","title","category","index","subcategory","callToAction","callToActionLinks","links","banner","addLinks","useEffect","getPostApi","editPostId","then","response","json","data","error","console","log","_jsxs","children","_jsx","ToastContainer","HandleFormConfig","message","navigatePage","AddPostPage","postEdit","setPostEdit"],"sourceRoot":""}