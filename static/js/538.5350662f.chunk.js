"use strict";(self.webpackChunknola=self.webpackChunknola||[]).push([[538],{5121:(e,t,a)=>{a.d(t,{Z:()=>l});a(2791);var s=a(1087);const o="GoBackButton_goBack__sMPM4",A="GoBackButton_titleRecovery__jxfe9";var i=a(184);const l=e=>{let{to:t,title:a,imgSrc:l,imgAlt:n,imgWidth:r,imgHeight:c,onClick:d}=e;return(0,i.jsxs)("div",{className:o,children:[(0,i.jsx)(s.rU,{to:t,onClick:d,children:(0,i.jsx)("img",{src:l,alt:n,width:r,height:c})}),(0,i.jsx)("h3",{className:A,children:a})]})}},8735:(e,t,a)=>{a.d(t,{a:()=>l});const s="MessagePostOnModeration_checked_container__2SyNn",o="MessagePostOnModeration_description__19Kgo";a(2791);const A=a.p+"static/media/checked.be3d76171987d08d22f337ee06d1e8e5.svg";var i=a(184);const l=()=>(0,i.jsxs)("div",{className:s,children:[(0,i.jsx)("img",{src:A,alt:"checked"}),(0,i.jsxs)("p",{className:"".concat(o," dark:text-white "),children:["Advertisement is under moderation. ",(0,i.jsx)("br",{}),"It will take about 15 minutes."]})]})},9321:(e,t,a)=>{a.d(t,{u:()=>i});const s="Modal_backdrop__2bCFe",o="Modal_modal__RKlRu";var A=a(184);const i=e=>{let{children:t,handleToggleModal:a}=e;return(0,A.jsx)("div",{className:s,onClick:e=>{const{target:t,currentTarget:s}=e;t===s&&a()},children:(0,A.jsx)("div",{className:"".concat(o," dark:bg-black"),children:(0,A.jsx)("div",{children:t})})})}},1620:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var s=a(2791),o=a(6671),A=a(7689),i=a(1087),l=a(8971),n=a(2078);const r="EditDraftsPage_top_container__-2O-2",c="EditDraftsPage_title_back__TD9Pu",d="EditDraftsPage_btn_container__OGGVu",g="EditDraftsPage_btn__+j8I2",E="EditDraftsPage_btn_active__s5kAk",B="EditDraftsPage_btn_disabled__1a-8M",v="EditDraftsPage_btn_back__YqPQK",h="EditDraftsPage_btn_back_active__gc+Bd";var m=a(2219),Q=a(5121),u=a(9321),x=a(8735),f=a(2564),p=a(422),b=a(184);const k=()=>{const e=(0,A.s0)(),[t,a]=((0,A.UO)(),(0,s.useState)(!1)),[k,P]=(0,s.useState)(!1),[S,_]=(0,s.useState)(!1),[w,j]=(0,s.useState)([]),[D,C]=(0,s.useState)((()=>{var e;return null!==(e=JSON.parse(localStorage.getItem("dataApi")))&&void 0!==e&&e})),[N,I]=(0,s.useState)((()=>{var e;return(null===(e=JSON.parse(localStorage.getItem("previewPost")))||void 0===e?void 0:e.links)||[{id:(0,p.x0)(),url:"",name:""}]})),[R,y]=(0,s.useState)((()=>{var e;return null!==(e=JSON.parse(localStorage.getItem("previewPost")))&&void 0!==e?e:{id:(0,p.x0)(),description:"",title:"",category:"",subcategory:"",callToAction:"Read more",callToActionLinks:"",banners:[]}}));(0,s.useEffect)((()=>{(async()=>{try{var e;if(D){const e=await JSON.parse(localStorage.getItem("previewPost"));return void j(e)}const t=await JSON.parse(localStorage.getItem("backend"));y(t),j(t),C(localStorage.setItem("dataApi",!0)),null===R||void 0===R||null===(e=R.links)||void 0===e||e.map((e=>{let{name:a,url:s}=e;0!==(null===a||void 0===a?void 0:a.length)&&0!==(null===s||void 0===s?void 0:s.length)||I(t.links)}))}catch(a){var t;(0,m.b)((null===a||void 0===a||null===(t=a.response)||void 0===t?void 0:t.statusText)||a.message)}})()}),[]),(0,s.useEffect)((()=>{localStorage.setItem("previewPost",JSON.stringify(R))}),[R]),(0,s.useEffect)((()=>{R.links=N}),[N,R]);(0,s.useEffect)((()=>{""!==R.title&&""!==R.category&&""!==R.subcategory?_(!0):_(!1)}),[R.category,R.subcategory,R.title]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Ix,{}),(0,b.jsx)("p",{children:"EditDraftsPage"}),(0,b.jsxs)("div",{className:r,onClick:()=>{console.log(t),a((e=>!e))},children:[(0,b.jsx)(Q.Z,{to:"",imgSrc:l,imgAlt:"Go back"}),(0,b.jsx)("p",{className:"".concat(c," dark:text-white"),children:"New advertisement"})]}),(0,b.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),console.log("EditDrafts",R);try{await(0,o.GT)(R);P(!0),localStorage.removeItem("previewPost"),setTimeout((()=>{e("/main")}),3e3)}catch(s){var a;(0,m.b)((null===s||void 0===s||null===(a=s.response)||void 0===a?void 0:a.statusText)||s.message)}},children:[0!==(null===w||void 0===w?void 0:w.length)&&(0,b.jsx)(n.i,{post:R,setPost:y,links:N,setLinks:I}),(0,b.jsxs)("div",{className:d,children:[(0,b.jsx)(i.OL,{to:"/main/addPost/previewAdvertisemet",children:(0,b.jsx)("button",{type:"button",className:g,children:(0,b.jsx)("span",{className:v,children:" Preview"})})}),(0,b.jsx)("button",{type:"submit",className:"".concat(g," ").concat(S?E:B),disabled:!S,children:(0,b.jsx)("span",{className:h,children:"Publish"})})]})]}),t&&(0,b.jsxs)(u.u,{handleToggleModal:()=>{a((e=>!e))},children:[(0,b.jsx)("p",{children:"Save a draft?"}),(0,b.jsx)("button",{type:"button",onClick:async()=>{try{localStorage.setItem("backend",JSON.stringify(R)),localStorage.removeItem("previewPost"),localStorage.removeItem("filterCategory"),localStorage.removeItem("dataApi"),e("/main"),a((e=>!e))}catch(t){console.log(t)}},children:"Yes"}),(0,b.jsx)("button",{type:"button",onClick:()=>{localStorage.removeItem("previewPost"),localStorage.removeItem("filterCategory"),localStorage.removeItem("dataApi"),e("/main"),a((e=>!e))},children:"No"})]}),k&&(0,b.jsx)(x.a,{})]})}},8971:e=>{e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAA4ADgDAREAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/igAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgD4O/bo/bo8N/sfeG/Bnhjwx4M1b47/ALVnx31a88F/stfsteC7y2g8b/GPxvBbCe8v7+8nElr4F+EvgW1kTxB8WPix4gSLwz4E8MxSXNzJd6vd6Po+pgHsH7JfhT9pTwf8DPClh+138UvCvxb/AGg9Tutf8T/EHXfAPhOz8HfD3w5e+Kdcv9ds/ht8P9Nhhi1PUPBPwz0++tfBHhvxN4qkufGHirTdEh8Q+JpxquozwQAH0jQAUAFABQBVvjeiyvDpq2raiLW4Ngt80qWTXvlP9lW8e3SSdLUz+WLhoY3lWLeY0ZwFIB/Gn+wGf+Ct3/DeX7bP/Cz1/wCCc4/4KXDUlHiI/tRt+0w3idv2Rv7SU/DBv2NR4GRfBSfshf2sZ1vV8JtJ45PxEW4f9oBx45fSY0AP24/435/9Ygf/ADc+gA/435/9Ygf/ADc+gD9dLEXosrMak1q2oi1txftYrKlk175Sfams0uHknS1M/mG3WaR5Vi2CR2cFiAWqACgAoA+Dv26P2F/Df7YPhvwZ4n8MeM9W+BH7VnwI1a88afstftS+C7O2n8b/AAc8bz2wgvLC/s5zHa+OvhL46tY08P8AxY+E/iB5fDPjvwzLJbXMdpq9po+saYAexfsm+K/2kvGHwK8Jah+1z8LvC/wl/aE0248QeGPiJoPgPxVZeL/h54h1Dwtr+o6DZfEj4eanBcz6pZeB/ibpdhZeOfDnhvxXFZeMfClhrkfhvxNatqelzXd0AfR9ABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAA/9k="}}]);
//# sourceMappingURL=538.5350662f.chunk.js.map