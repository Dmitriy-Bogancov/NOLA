"use strict";(self.webpackChunknola=self.webpackChunknola||[]).push([[809],{6645:(e,t,n)=>{n.d(t,{Z:()=>a});n(2791);const a=n.p+"static/media/addBaner.ba9dfedad53f886e44e80a37b788d3ba.svg"},1963:(e,t,n)=>{n.d(t,{r:()=>c});var a,i,o=n(2791);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function l(e,t){let{title:n,titleId:l,...c}=e;return o.createElement("svg",r({width:56,height:56,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},c),n?o.createElement("title",{id:l},n):null,a||(a=o.createElement("path",{d:"M16.3333 28H39.6666",stroke:"black",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),i||(i=o.createElement("path",{d:"M25.6666 18.6667L16.3333 28.0001L25.6666 37.3334",stroke:"black",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const c=o.forwardRef(l);n.p},908:(e,t,n)=>{n.d(t,{Z:()=>a});n(2791);const a=n.p+"static/media/circle-exclamation-mark.17ba79873a47e9a43cf4f3584ca4f5b5.svg"},5874:(e,t,n)=>{n.d(t,{Z:()=>a});n(2791);const a=n.p+"static/media/deleteLink.ec9ed3a14b19f8dd1a26b37bc4b1ea4c.svg"},7459:(e,t,n)=>{n.d(t,{Z:()=>r});n(2791);const a="Button_buttonForm__X-24B",i="Button_disabled__jvels";var o=n(184);const r=e=>{let{label:t,onClick:n,disabled:r}=e;return(0,o.jsx)("button",{className:"".concat(a," ").concat(r?i:""),onClick:n,disabled:r,children:t})}},5121:(e,t,n)=>{n.d(t,{Z:()=>d});n(2791);var a=n(1087);const i="GoBackButton_goBack__sMPM4",o="GoBackButton_titleRecovery__jxfe9",r="GoBackButton_iconDark__ngklm";var l=n(3296),c=n(1963),s=n(184);const d=e=>{let{to:t,title:n,imgSrc:d,imgAlt:A,imgWidth:h,imgHeight:v,onClick:_}=e;const{theme:u,setTheme:m}=(0,l.a)();return(0,s.jsxs)("div",{className:i,children:[(0,s.jsx)(a.rU,{to:t,onClick:_,className:"dark"===u?r:"",children:(0,s.jsx)(c.r,{})}),(0,s.jsx)("h3",{className:"".concat(o," dark:text-white"),children:n})]})}},9321:(e,t,n)=>{n.d(t,{u:()=>A});const a="Modal_backdrop__2bCFe",i="Modal_modal__RKlRu",o="Modal_children__HRgbz",r="Modal_modal_title__G832Y",l="Modal_modal_descr__c95fw",c="Modal_modal_btn__IQX72",s="Modal_modal_text__UI4b5";var d=n(184);const A=e=>{let{confirm:t,cancel:n,title:A,description:h,handleToggleModal:v,btn_text_confirm:_="Confirm",btn_text_cancel:u="Cancel",childrenEl:m=!1,children:g}=e;return(0,d.jsx)("div",{className:a,onClick:e=>{const{target:t,currentTarget:n}=e;t===n&&v()},children:(0,d.jsx)("div",{className:"".concat(i," dark:bg-black"),children:(0,d.jsx)("div",{className:o,children:m?g:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{className:r,children:A}),(0,d.jsx)("p",{className:l,children:h}),(0,d.jsx)("button",{type:"button",className:c,onClick:t,children:_}),(0,d.jsx)("p",{type:"button",className:"".concat(s," dark:text-white"),onClick:n,children:u})]})})})})}},3809:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});const a={back_container:"AdverticerEditPage_back_container__w-+Op",form_container:"AdverticerEditPage_form_container__XiD8T",form:"AdverticerEditPage_form__BuBxH",input_container:"AdverticerEditPage_input_container__D7OCN",input:"AdverticerEditPage_input__3Dykd",textarea:"AdverticerEditPage_textarea__wxwDf",links_container:"AdverticerEditPage_links_container__xd3hj",post_container:"AdverticerEditPage_post_container__tPJCG",addLink:"AdverticerEditPage_addLink__OQ7jg",post_description:"AdverticerEditPage_post_description__dmOck",img:"AdverticerEditPage_img__rNtJo",symbols:"AdverticerEditPage_symbols__8Hyg0",btn_container:"AdverticerEditPage_btn_container__JMRqD",attention_container:"AdverticerEditPage_attention_container__TBWG1",attention_descr:"AdverticerEditPage_attention_descr__NdVYS",error_links:"AdverticerEditPage_error_links__MUbyy",error_placeholder:"AdverticerEditPage_error_placeholder__GGqfD"};var i=n(5121),o=n(8971),r=n(6645),l=n(5874),c=n(7689),s=n(7459),d=n(2791),A=n(6671),h=n(8007),v=n(908),_=n(3296),u=n(9321),m=n(2219),g=n(422),p=n(2564);const k="Avatar_photo_container__eiGsJ",E="Avatar_src_container__PKM-g",x="Avatar_photo_title__-LX4F",B="Avatar_icon__NPKwU",b="Avatar_invisible__l2hP+",f="Avatar_backdrop__XRods",j="Avatar_modal__PIvm-",w="Avatar_modal_dark__tk+V2",Q="Avatar_avatar__eBtNC",C="Avatar_avatar_dark__fhrHc";var y,N,P;function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},S.apply(this,arguments)}function D(e,t){let{title:n,titleId:a,...i}=e;return d.createElement("svg",S({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?d.createElement("title",{id:a},n):null,y||(y=d.createElement("path",{d:"M7 23V9C7 7.89543 7.89543 7 9 7H23C24.1046 7 25 7.89543 25 9V23C25 24.1046 24.1046 25 23 25H9C7.89543 25 7 24.1046 7 23Z",stroke:"#9E9E9E",strokeWidth:1.5,strokeLinejoin:"round"})),N||(N=d.createElement("path",{d:"M7 19.6667H14.9191C15.1843 19.6667 15.4387 19.5613 15.6262 19.3738L19.2929 15.7071C19.6834 15.3166 20.3166 15.3166 20.7071 15.7071L25 20",stroke:"#9E9E9E",strokeWidth:1.5,strokeLinejoin:"round"})),P||(P=d.createElement("path",{d:"M11.333 12.6666C11.333 11.9302 11.93 11.3333 12.6663 11.3333C13.4027 11.3333 13.9997 11.9302 13.9997 12.6666C13.9997 13.403 13.4027 13.9999 12.6663 13.9999C11.93 13.9999 11.333 13.403 11.333 12.6666Z",fill:"#9E9E9E"})))}const M=d.forwardRef(D);n.p;var R=n(9959),L=n.n(R),Z=n(7162),H=n(184);const F=e=>{let{setAccount:t,account:n}=e;const{theme:a,setTheme:i}=(0,_.a)(),[o,r]=(0,d.useState)((()=>{var e,t;return null!==(e=null===(t=JSON.parse(localStorage.getItem("account")))||void 0===t?void 0:t.photo)&&void 0!==e?e:""})),[l,c]=(0,d.useState)(!1),[s,A]=(0,d.useState)(null),[h,v]=(0,d.useState)(!1),[u,g]=(0,d.useState)(!1);(0,d.useEffect)((()=>{t((e=>({...n,photo:o})))}),[o]);const p=e=>{const{target:t,currentTarget:n}=e;t===n&&(A(o||null),g(!1),v((e=>!e)))};return(0,H.jsxs)(H.Fragment,{children:[l&&(0,H.jsx)("p",{children:"Photo downlo\u0430ding"}),(0,H.jsxs)("div",{className:k,children:[h&&(0,H.jsx)("div",{className:f,onClick:p,children:(0,H.jsx)("div",{className:"".concat(j," ").concat("dark"===a?w:""),children:(0,H.jsx)("div",{className:"".concat(Q," ").concat("dark"===a?C:""),children:(0,H.jsx)(L(),{width:300,height:210,onCrop:async e=>{g(!0),A(e)},onClose:async()=>{v(!1);const e=new FormData;e.append("file",s),e.append("api_key","984292171139147"),e.append("upload_preset","j0hj8hjd");try{var t;c(!0);const n=await(0,Z.I)(e);r(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.url)}catch(n){(0,m.b)(n.message)}finally{c(!1)}}})})})}),(0,H.jsx)("img",{src:s||o,alt:"",className:"".concat(E," dark:border-white "),onClick:p}),o?"":(0,H.jsx)("div",{className:"".concat(B," ").concat(u?b:""),onClick:p,children:(0,H.jsx)(M,{})}),(0,H.jsx)("p",{className:"".concat(x," dark:text-white"),children:"Add photo"})]})]})},O=h.Ry().shape({name:h.Z_().min(1).required("Name is required"),description:h.Z_().min(50).required("Description is required")}),I=()=>{var e,t,n,h,k,E,x;const B=(0,c.s0)(),{theme:b,setTheme:f}=(0,_.a)(),[j,w]=(0,d.useState)([]),{token:Q,setToken:C}=(0,_.a)(),[y,N]=(0,d.useState)({}),[P,S]=(0,d.useState)(!1),[D,M]=(0,d.useState)(!1),[R,L]=(0,d.useState)((()=>{var e,t;return null!==(e=null===(t=JSON.parse(localStorage.getItem("account")))||void 0===t?void 0:t.links)&&void 0!==e?e:[{id:(0,g.x0)(),url:"",name:""}]})),[Z,I]=(0,d.useState)((()=>{var e;return null!==(e=JSON.parse(localStorage.getItem("account")))&&void 0!==e?e:{photo:"",name:"",description:""}})),[J,W]=(0,d.useState)((null===Z||void 0===Z||null===(e=Z.description)||void 0===e?void 0:e.length)||0);(0,d.useEffect)((()=>{var e;null===Z||void 0===Z||null===(e=Z.links)||void 0===e||e.map((e=>{var t,n;let{url:a,name:i}=e;0===a.length||0===i.length||(null===y||void 0===y||null===(t=y.description)||void 0===t?void 0:t.length)>0||(null===y||void 0===y||null===(n=y.name)||void 0===n?void 0:n.length)>0?S(!1):S(!0)}))}),[null===Z||void 0===Z?void 0:Z.links,y]),(0,d.useEffect)((()=>{(async()=>{try{await(0,A.p_)(Q).then((e=>e.json())).then((e=>(localStorage.setItem("account",JSON.stringify(e)),e))),w(j)}catch(e){console.log(e)}})()}),[Z,j,Q]),(0,d.useEffect)((()=>{localStorage.setItem("account",JSON.stringify(Z))}),[Z]);const G=()=>{var e,t;""!==(null===(e=R[R.length-1])||void 0===e?void 0:e.name)&&""!==(null===(t=R[R.length-1])||void 0===t?void 0:t.url)&&(I((e=>({...Z,links:[...e.links,{id:(0,g.x0)(),url:"",name:""}]}))),L((e=>[...e,{id:(0,g.x0)(),url:"",name:""}])))},K=(e,t,n)=>{L((a=>{const i=a.findIndex((t=>t.id===e)),o=[...a];return o.splice(i,1,{id:e,url:t,name:n}),I({...Z,links:o}),o}))},U=e=>{const{name:t,value:n}=e.target;I((e=>({...e,[t]:n}))),N({...y,[t]:""}),"description"===t&&W(n.length)},q=async e=>{try{await O.validateAt(e,Z),N((t=>({...t,[e]:""})))}catch(t){N((n=>({...n,[e]:t.message}))),S(!1)}},T=e=>y[e]&&"#DA2E2E",Y=null===R||void 0===R?void 0:R.find((e=>e.id===R[R.length-1].id));return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(p.Ix,{}),(0,H.jsxs)("div",{className:a.adverticerEdit_container,children:[(0,H.jsx)("div",{onClick:()=>{var e,t;(null===Z||void 0===Z||null===(e=Z.description)||void 0===e?void 0:e.length)>50&&(null===Z||void 0===Z||null===(t=Z.name)||void 0===t?void 0:t.length)>0?B("/main/accountAdverticer"):M((e=>!e))},children:(0,H.jsx)(i.Z,{imgSrc:o,imgAlt:"Go back",imgWidth:"50px",imgHeight:"50px",title:"Account"})}),(0,H.jsxs)("form",{className:a.form_container,onSubmit:async e=>{e.preventDefault(),console.log(Z),O.validate(Z,{abortEarly:!1}).then((async()=>{console.log("Form submitted with data:",Z);try{if(Z.id){try{await(0,A.wm)(Q,Z.id,{name:Z.name,description:Z.description}).then((e=>e.json())).then((e=>(I(e),e)))}catch(e){console.log(e)}return}try{await(0,A.I2)(Q,Z)}catch(e){console.log(e)}}catch(e){(0,m.b)(e)}})).catch((e=>{const t={};e.inner.forEach((e=>{t[e.path]=e.message})),N(t)}))},children:[(0,H.jsx)(F,{setAccount:I,account:Z}),(0,H.jsxs)("div",{className:a.form,children:[(0,H.jsxs)("label",{className:"".concat(a.post_description," dark:text-white"),children:["Name*",(0,H.jsx)("input",{name:"name",type:"text",placeholder:"Agency \\ Brand \\ Service",value:null===Z||void 0===Z?void 0:Z.name,onBlur:()=>q("name"),style:{borderColor:T("name")},className:"primary_text_style ".concat(a.input," dark:text-white dark:bg-black dark:border-white\n                ").concat((null===y||void 0===y||null===(t=y.name)||void 0===t?void 0:t.length)>0?a.error_placeholder:""),onChange:U})]}),(0,H.jsx)("p",{className:"".concat(a.post_description," dark:text-white"),children:"Links*"}),R&&(null===R||void 0===R?void 0:R.map((e=>{var t,n;let{id:i,url:o,name:c}=e;return(0,H.jsxs)("div",{className:a.links_container,children:[(0,H.jsx)("input",{value:o,name:"links",placeholder:"url",className:"secondary_text_style ".concat(a.post_container,"   dark:bg-black dark:text-white \n                   ").concat((null===Z||void 0===Z||null===(t=Z.links)||void 0===t?void 0:t.length)>0&&0===o.length?" ".concat(a.error_placeholder," ").concat(a.error_links," dark:border-red"):"dark:border-white","\n\n                 \n                "),onChange:e=>K(i,e.target.value,c)}),(0,H.jsx)("input",{value:c,name:"links",onChange:e=>K(i,o,e.target.value),placeholder:"name",onBlur:()=>q("links"),className:"secondary_text_style dark:bg-black \n                       dark:text-white \n                    ".concat(a.post_container,"   \n                    ").concat((null===Z||void 0===Z||null===(n=Z.links)||void 0===n?void 0:n.length)>0&&0===c.length?"".concat(a.error_placeholder," ").concat(a.error_links," \n             \n                      dark:border-red"):"dark:border-white","\n                ")}),Y.id===i?(0,H.jsx)("img",{src:r.Z,alt:"add link",className:a.img,onClick:G}):(0,H.jsx)("img",{src:l.Z,alt:"delete link",className:a.img,onClick:()=>(e=>{const t=Z.links.filter((t=>{let{id:n}=t;return n!==e}));I({...Z,links:t}),L(t)})(i)})]},i)}))),(0,H.jsxs)("label",{className:"".concat(a.post_description," dark:text-white"),children:["Description*",(0,H.jsx)("textarea",{name:"description",type:"text",placeholder:"Minimum 50 characters*",maxLength:"500",id:"",cols:"30",rows:"10",value:null===Z||void 0===Z?void 0:Z.description,onBlur:()=>q("description"),style:{borderColor:T("description")},className:"primary_text_style ".concat(a.textarea," dark:text-white dark:bg-black dark:border-white\n                 ").concat((null===y||void 0===y||null===(n=y.description)||void 0===n?void 0:n.length)>0?a.error_placeholder:"","\n                "),onChange:U}),(0,H.jsxs)("p",{className:"".concat(a.symbols," dark:text-white"),children:["Symbols",(0,H.jsxs)("span",{children:[J,"/500"]})]})]})]}),(0,H.jsxs)("div",{className:a.btn_container,children:[(null===y||void 0===y||null===(h=y.description)||void 0===h?void 0:h.length)>0||(null===y||void 0===y||null===(k=y.name)||void 0===k?void 0:k.length)>0||!P?(0,H.jsxs)("div",{className:a.attention_container,children:[(0,H.jsx)("img",{src:v.Z,alt:"attention"}),(0,H.jsx)("p",{className:"secondary_text_style ".concat(a.attention_descr),children:"Fill in all required fields for input"})]}):"",(0,H.jsx)(s.Z,{label:"Save",type:"submit",disabled:!((null===Z||void 0===Z||null===(E=Z.description)||void 0===E?void 0:E.length)>49&&(null===Z||void 0===Z||null===(x=Z.name)||void 0===x?void 0:x.length)>0&&P)})]})]}),D&&(0,H.jsx)(u.u,{handleToggleModal:()=>{M((e=>!e))},confirm:()=>{M((e=>!e))},cancel:()=>{B("/main/accountAdverticer")},title:"Your profile is incomplete!",description:"You won\u2019t be able to publish announcements until you complete the profile",btn_text_confirm:"Continue entering data",btn_text_cancel:"Continue later"})]})]})}},2219:(e,t,n)=>{n.d(t,{b:()=>i});var a=n(2564);const i=e=>{a.Am.error("".concat(e),{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}},7162:(e,t,n)=>{n.d(t,{I:()=>i});var a=n(5294);const i=async e=>await a.Z.post("https://api.cloudinary.com/v1_1/".concat("dpsjhatpy","/image/upload"),e)},8971:e=>{e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAA4ADgDAREAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/igAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgD4O/bo/bo8N/sfeG/Bnhjwx4M1b47/ALVnx31a88F/stfsteC7y2g8b/GPxvBbCe8v7+8nElr4F+EvgW1kTxB8WPix4gSLwz4E8MxSXNzJd6vd6Po+pgHsH7JfhT9pTwf8DPClh+138UvCvxb/AGg9Tutf8T/EHXfAPhOz8HfD3w5e+Kdcv9ds/ht8P9Nhhi1PUPBPwz0++tfBHhvxN4qkufGHirTdEh8Q+JpxquozwQAH0jQAUAFABQBVvjeiyvDpq2raiLW4Ngt80qWTXvlP9lW8e3SSdLUz+WLhoY3lWLeY0ZwFIB/Gn+wGf+Ct3/DeX7bP/Cz1/wCCc4/4KXDUlHiI/tRt+0w3idv2Rv7SU/DBv2NR4GRfBSfshf2sZ1vV8JtJ45PxEW4f9oBx45fSY0AP24/435/9Ygf/ADc+gA/435/9Ygf/ADc+gD9dLEXosrMak1q2oi1txftYrKlk175Sfams0uHknS1M/mG3WaR5Vi2CR2cFiAWqACgAoA+Dv26P2F/Df7YPhvwZ4n8MeM9W+BH7VnwI1a88afstftS+C7O2n8b/AAc8bz2wgvLC/s5zHa+OvhL46tY08P8AxY+E/iB5fDPjvwzLJbXMdpq9po+saYAexfsm+K/2kvGHwK8Jah+1z8LvC/wl/aE0248QeGPiJoPgPxVZeL/h54h1Dwtr+o6DZfEj4eanBcz6pZeB/ibpdhZeOfDnhvxXFZeMfClhrkfhvxNatqelzXd0AfR9ABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAA/9k="}}]);
//# sourceMappingURL=809.e78c7379.chunk.js.map